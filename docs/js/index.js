(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

module.exports = {
  cc: function () {
    var url = 'js/cc.json';
    var data = [];
    d3.json(url, function (error, res) {
      if (error) {
        console.log(error);
      } else {
        data = res.reduce(function (p, c) {
          p[c['alpha-3']] = c.name;
          return p;
        }, data);
      }
    });
    return {
      select: function select(cid) {
        return data[cid];
      }
    };
  }()
};

},{}],2:[function(require,module,exports){
"use strict";

var fnc = function fnc(b, d, e, f, n) {
  var here = d3.select(f[e]);
  var id = here.attr('id');
  var rect = b.select('#box' + id);
  rect.attr('class', n);
};

module.exports = {
  disp: function (b) {
    return {
      show: function show(d, e, f) {
        fnc(b, d, e, f, 'show');
      },
      hide: function hide(d, e, f) {
        fnc(b, d, e, f, 'hide');
      }
    };
  }(d3.select('body'))
};

},{}],3:[function(require,module,exports){
"use strict";

var _require = require('./cc.js'),
    cc = _require.cc;

var _require2 = require('./disp.js'),
    disp = _require2.disp;

var url = 'https://raw.githubusercontent.com/FreeCodeCamp/ProjectReferenceData/master/cyclist-data.json';
d3.json(url, function (error, res) {
  if (!error) {
    var height = 540;
    var width = 800;
    var box = d3.select('#box');
    var foot = d3.select('#foot');
    var field = d3.select('svg');
    var items;
    var vertScale = d3.scaleLinear();
    var horScale = d3.scaleTime();
    var placeAxis = d3.axisLeft(vertScale);
    var timeAxis = d3.axisBottom(horScale);
    res.map(function (d) {
      d.Seconds *= 1000;
      d.Time = new Date(d.Seconds);
    });
    vertScale.domain([0, res[res.length - 1].Place]).nice().range([6, height - 6]);
    horScale.domain(d3.extent(res, function (d) {
      return new Date(d.Time);
    })).nice().range([width - 6, 6]);
    timeAxis.tickFormat(d3.timeFormat('%M:%S'));
    box.attr('style', 'font-family: sans-serif; font-size: 16px;').selectAll('div').data(res).enter().append('div').attr('id', function (d) {
      return 'box' + d.Place;
    }).attr('class', 'hide').html(function (d) {
      return '<span style="font-size: 18px; font-weight: bold;">' + d.Name + ', ' + cc.select(d.Nationality) + '</span><br>' + '<br>' + d.Year + ': ' + 'Place ' + d.Place + ', ' + d3.timeFormat('%H:%M')(d.Time) + (d.Doping ? '<br><br>' + d.Doping : '');
    });
    foot.html('<h3>Doping at the Alpe d\'Huez</h3>' + '<p>Most of professional bicycle riders are<br>related to doping. ' + 'Set the cursor over the<br>buttons to see a breef description.<br>' + 'Click on it to read more.<p>');
    items = field.attr('height', height + 80).attr('width', width + 160).attr('style', 'font-family: sans-serif; font-size: 12px').append('g').attr('id', 'CANVAS').attr('transform', 'translate(80, 0)').attr('height', height).attr('width', width).selectAll('g').data(res).enter();
    items.append('a').attr('href', function (d) {
      return d.URL ? d.URL : null;
    }).attr('target', '_blank').append('circle').on('mouseover', disp.show).on('mouseout', disp.hide).attr('stroke', 'black').attr('r', 6).attr('id', function (d) {
      return d.Place;
    }).attr('fill', function (d) {
      return d.Doping ? 'red' : 'green';
    }).attr('cx', function (d) {
      return horScale(d.Seconds);
    }).attr('cy', function (d) {
      return vertScale(d.Place);
    });
    items.append('text').text(function (d) {
      return d.Name;
    }).attr('x', function (d) {
      return horScale(d.Seconds) + 10;
    }).attr('y', function (d) {
      return vertScale(d.Place) + 6;
    });
    field.append('text').text('Ranking').attr('transform', 'translate(40, 250) rotate(-90,0,13)');
    field.append('g').attr('transform', 'translate(60, 0)').call(placeAxis);
    field.append('text').text('Time up the Alpe d\'Huez').attr('x', width / 2).attr('y', height + 60);
    field.append('g').attr('transform', 'translate(80, ' + (height + 20) + ')').call(timeAxis);
  }
});

},{"./cc.js":1,"./disp.js":2}]},{},[3])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvY2MuanMiLCJzcmMvanMvZGlzcC5qcyIsInNyYy9qcy9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUEsTUFBTSxDQUFDLE9BQVAsR0FBaUI7QUFDZixFQUFBLEVBQUUsRUFBRyxZQUFNO0FBQ1QsUUFBSSxHQUFHLEdBQUcsWUFBVjtBQUNBLFFBQUksSUFBSSxHQUFHLEVBQVg7QUFFQSxJQUFBLEVBQUUsQ0FBQyxJQUFILENBQVEsR0FBUixFQUFhLFVBQUMsS0FBRCxFQUFRLEdBQVIsRUFBZ0I7QUFDM0IsVUFBSSxLQUFKLEVBQVc7QUFDVCxRQUFBLE9BQU8sQ0FBQyxHQUFSLENBQVksS0FBWjtBQUNELE9BRkQsTUFHSztBQUNILFFBQUEsSUFBSSxHQUFHLEdBQUcsQ0FBQyxNQUFKLENBQVcsVUFBQyxDQUFELEVBQUcsQ0FBSCxFQUFTO0FBQ3pCLFVBQUEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFELENBQUYsQ0FBRCxHQUFrQixDQUFDLENBQUMsSUFBcEI7QUFDQSxpQkFBTyxDQUFQO0FBQ0QsU0FITSxFQUdKLElBSEksQ0FBUDtBQUlEO0FBQ0YsS0FWRDtBQVlBLFdBQU87QUFDTCxNQUFBLE1BQU0sRUFBRSxnQkFBQyxHQUFELEVBQVU7QUFDaEIsZUFBTyxJQUFJLENBQUMsR0FBRCxDQUFYO0FBQ0Q7QUFISSxLQUFQO0FBS0QsR0FyQkc7QUFEVyxDQUFqQjs7Ozs7QUNBQSxJQUFNLEdBQUcsR0FBRyxTQUFOLEdBQU0sQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQVAsRUFBVSxDQUFWLEVBQWEsQ0FBYixFQUFtQjtBQUM3QixNQUFJLElBQUksR0FBRyxFQUFFLENBQUMsTUFBSCxDQUFVLENBQUMsQ0FBQyxDQUFELENBQVgsQ0FBWDtBQUNBLE1BQUksRUFBRSxHQUFHLElBQUksQ0FBQyxJQUFMLENBQVUsSUFBVixDQUFU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VUFBQSxDQUFDLEVBQUk7QUFBRSxhQUFPLFNBQVMsQ0FBQyxDQUFDLENBQUMsS0FBSCxDQUFULEdBQXFCLENBQTVCO0FBQStCLEtBSm5EO0FBTUEsSUFBQSxLQUFLLENBQUMsTUFBTixDQUFhLE1BQWIsRUFDRyxJQURILENBQ1EsU0FEUixFQUVHLElBRkgsQ0FFUSxXQUZSLEVBRXFCLHFDQUZyQjtBQUlBLElBQUEsS0FBSyxDQUFDLE1BQU4sQ0FBYSxHQUFiLEVBQ0csSUFESCxDQUNRLFdBRFIsRUFDcUIsa0JBRHJCLEVBRUcsSUFGSCxDQUVRLFNBRlI7QUFJQSxJQUFBLEtBQUssQ0FBQyxNQUFOLENBQWEsTUFBYixFQUNHLElBREgsQ0FDUSwwQkFEUixFQUVHLElBRkgsQ0FFUSxHQUZSLEVBRWEsS0FBSyxHQUFHLENBRnJCLEVBR0csSUFISCxDQUdRLEdBSFIsRUFHYSxNQUFNLEdBQUcsRUFIdEI7QUFLQSxJQUFBLEtBQUssQ0FBQyxNQUFOLENBQWEsR0FBYixFQUNHLElBREgsQ0FDUSxXQURSLEVBQ3FCLG9CQUFvQixNQUFNLEdBQUcsRUFBN0IsSUFBbUMsR0FEeEQsRUFFRyxJQUZILENBRVEsUUFGUjtBQUdEO0FBQ0YsQ0F6R0QiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgY2M6ICgoKSA9PiB7XG4gICAgbGV0IHVybCA9ICdqcy9jYy5qc29uJ1xuICAgIGxldCBkYXRhID0gW11cblxuICAgIGQzLmpzb24odXJsLCAoZXJyb3IsIHJlcykgPT4ge1xuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGRhdGEgPSByZXMucmVkdWNlKChwLGMpID0+IHtcbiAgICAgICAgICBwW2NbJ2FscGhhLTMnXV0gPSBjLm5hbWVcbiAgICAgICAgICByZXR1cm4gcFxuICAgICAgICB9LCBkYXRhKVxuICAgICAgfVxuICAgIH0pXG5cbiAgICByZXR1cm4ge1xuICAgICAgc2VsZWN0OiAoY2lkKSA9PiAge1xuICAgICAgICByZXR1cm4gZGF0YVtjaWRdXG4gICAgICB9XG4gICAgfVxuICB9KSgpXG59XG4iLCJjb25zdCBmbmMgPSAoYiwgZCwgZSwgZiwgbikgPT4ge1xuICBsZXQgaGVyZSA9IGQzLnNlbGVjdChmW2VdKVxuICBsZXQgaWQgPSBoZXJlLmF0dHIoJ2lkJylcbiAgbGV0IHJlY3QgPSBiLnNlbGVjdCgnI2JveCcgKyBpZClcblxuICByZWN0XG4gICAgLmF0dHIoJ2NsYXNzJywgbilcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGRpc3A6ICgoYikgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBzaG93OiAoZCwgZSwgZikgPT4gIHtcbiAgICAgICAgZm5jKGIsIGQsIGUsIGYsICdzaG93JylcbiAgICAgIH0sXG4gICAgICBoaWRlOiAoZCwgZSwgZikgPT4gIHtcbiAgICAgICAgZm5jKGIsIGQsIGUsIGYsICdoaWRlJylcbiAgICAgIH1cbiAgICB9XG4gIH0pKGQzLnNlbGVjdCgnYm9keScpKVxufVxuIiwiY29uc3QgeyBjYyB9ID0gcmVxdWlyZSgnLi9jYy5qcycpXG5jb25zdCB7IGRpc3AgfSA9IHJlcXVpcmUoJy4vZGlzcC5qcycpXG5cbmNvbnN0IHVybCA9ICdodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vRnJlZUNvZGVDYW1wL1Byb2plY3RSZWZlcmVuY2VEYXRhL21hc3Rlci9jeWNsaXN0LWRhdGEuanNvbidcblxuZDMuanNvbih1cmwsIChlcnJvciwgcmVzKSA9PiB7XG4gIGlmICghIGVycm9yKSB7XG4gICAgbGV0IGhlaWdodCA9IDU0MFxuICAgIGxldCB3aWR0aCA9IDgwMFxuICAgIGxldCBib3ggPSBkMy5zZWxlY3QoJyNib3gnKVxuICAgIGxldCBmb290ID0gZDMuc2VsZWN0KCcjZm9vdCcpXG4gICAgbGV0IGZpZWxkID0gZDMuc2VsZWN0KCdzdmcnKVxuICAgIGxldCBpdGVtc1xuICAgIGxldCB2ZXJ0U2NhbGUgPSBkMy5zY2FsZUxpbmVhcigpXG4gICAgbGV0IGhvclNjYWxlID0gZDMuc2NhbGVUaW1lKClcbiAgICBsZXQgcGxhY2VBeGlzID0gZDMuYXhpc0xlZnQodmVydFNjYWxlKVxuICAgIGxldCB0aW1lQXhpcyA9IGQzLmF4aXNCb3R0b20oaG9yU2NhbGUpXG5cbiAgICByZXMubWFwKChkKSA9PiB7XG4gICAgICBkLlNlY29uZHMgKj0gMTAwMFxuICAgICAgZC5UaW1lID0gbmV3IERhdGUoZC5TZWNvbmRzKVxuICAgIH0pXG5cbiAgICB2ZXJ0U2NhbGVcbiAgICAgIC5kb21haW4oWzAsIHJlc1tyZXMubGVuZ3RoIC0gMV0uUGxhY2VdKS5uaWNlKClcbiAgICAgIC5yYW5nZShbNiwgaGVpZ2h0IC0gNl0pXG5cbiAgICBob3JTY2FsZVxuICAgICAgLmRvbWFpbihkMy5leHRlbnQocmVzLCBmdW5jdGlvbihkKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShkLlRpbWUpIFxuICAgICAgfSkpXG4gICAgICAubmljZSgpXG4gICAgICAucmFuZ2UoW3dpZHRoIC0gNiwgNl0pXG5cbiAgICB0aW1lQXhpc1xuICAgICAgLnRpY2tGb3JtYXQoZDMudGltZUZvcm1hdCgnJU06JVMnKSlcblxuICAgIGJveFxuICAgICAgLmF0dHIoJ3N0eWxlJywgJ2ZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmOyBmb250LXNpemU6IDE2cHg7JylcbiAgICAgIC5zZWxlY3RBbGwoJ2RpdicpXG4gICAgICAuZGF0YShyZXMpXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgnZGl2JylcbiAgICAgIC5hdHRyKCdpZCcsIGQgPT4geyByZXR1cm4gJ2JveCcgKyBkLlBsYWNlIH0pXG4gICAgICAuYXR0cignY2xhc3MnLCAnaGlkZScpXG4gICAgICAuaHRtbChkID0+IHtcbiAgICAgICAgcmV0dXJuICc8c3BhbiBzdHlsZT1cImZvbnQtc2l6ZTogMThweDsgZm9udC13ZWlnaHQ6IGJvbGQ7XCI+JyArXG4gICAgICAgICAgICAgICBkLk5hbWUgKyAnLCAnICsgY2Muc2VsZWN0KGQuTmF0aW9uYWxpdHkpICsgJzwvc3Bhbj48YnI+JyArICc8YnI+JyArIGQuWWVhciArICc6ICcgK1xuICAgICAgICAgICAgICAgJ1BsYWNlICcgKyBkLlBsYWNlICsgJywgJyArIGQzLnRpbWVGb3JtYXQoJyVIOiVNJykoZC5UaW1lKSArXG4gICAgICAgICAgICAgICAoZC5Eb3BpbmcgPyAnPGJyPjxicj4nICsgZC5Eb3BpbmcgOiAnJylcbiAgICAgIH0pXG5cbiAgICBmb290XG4gICAgICAuaHRtbChcbiAgICAgICAgJzxoMz5Eb3BpbmcgYXQgdGhlIEFscGUgZFxcJ0h1ZXo8L2gzPicgK1xuICAgICAgICAnPHA+TW9zdCBvZiBwcm9mZXNzaW9uYWwgYmljeWNsZSByaWRlcnMgYXJlPGJyPnJlbGF0ZWQgdG8gZG9waW5nLiAnICtcbiAgICAgICAgJ1NldCB0aGUgY3Vyc29yIG92ZXIgdGhlPGJyPmJ1dHRvbnMgdG8gc2VlIGEgYnJlZWYgZGVzY3JpcHRpb24uPGJyPicgK1xuICAgICAgICAnQ2xpY2sgb24gaXQgdG8gcmVhZCBtb3JlLjxwPidcbiAgICAgIClcblxuICAgIGl0ZW1zID0gZmllbGRcbiAgICAgIC5hdHRyKCdoZWlnaHQnLCBoZWlnaHQgKyA4MClcbiAgICAgIC5hdHRyKCd3aWR0aCcsIHdpZHRoICsgMTYwKVxuICAgICAgLmF0dHIoJ3N0eWxlJywgJ2ZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmOyBmb250LXNpemU6IDEycHgnKVxuICAgICAgLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignaWQnLCAnQ0FOVkFTJylcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKDgwLCAwKScpXG4gICAgICAuYXR0cignaGVpZ2h0JywgaGVpZ2h0KVxuICAgICAgLmF0dHIoJ3dpZHRoJywgd2lkdGgpXG4gICAgICAuc2VsZWN0QWxsKCdnJylcbiAgICAgIC5kYXRhKHJlcylcbiAgICAgIC5lbnRlcigpXG5cbiAgICBpdGVtc1xuICAgICAgLmFwcGVuZCgnYScpXG4gICAgICAuYXR0cignaHJlZicsIGQgPT4geyByZXR1cm4gZC5VUkwgPyBkLlVSTCA6IG51bGwgfSlcbiAgICAgIC5hdHRyKCd0YXJnZXQnLCAnX2JsYW5rJylcbiAgICAgIC5hcHBlbmQoJ2NpcmNsZScpXG4gICAgICAub24oJ21vdXNlb3ZlcicsIGRpc3Auc2hvdylcbiAgICAgIC5vbignbW91c2VvdXQnLCBkaXNwLmhpZGUpXG4gICAgICAuYXR0cignc3Ryb2tlJywgJ2JsYWNrJylcbiAgICAgIC5hdHRyKCdyJywgNilcbiAgICAgIC5hdHRyKCdpZCcsIGQgPT4geyByZXR1cm4gZC5QbGFjZSB9KVxuICAgICAgLmF0dHIoJ2ZpbGwnLCBkID0+IHsgcmV0dXJuIGQuRG9waW5nID8gJ3JlZCcgOiAnZ3JlZW4nIH0pXG4gICAgICAuYXR0cignY3gnLCBkID0+IHsgcmV0dXJuIGhvclNjYWxlKGQuU2Vjb25kcykgfSlcbiAgICAgIC5hdHRyKCdjeScsIGQgPT4geyByZXR1cm4gdmVydFNjYWxlKGQuUGxhY2UpIH0pXG5cbiAgICBpdGVtc1xuICAgICAgLmFwcGVuZCgndGV4dCcpXG4gICAgICAudGV4dChkID0+IHsgcmV0dXJuIGQuTmFtZSB9KVxuICAgICAgLmF0dHIoJ3gnLCBkID0+IHsgcmV0dXJuIGhvclNjYWxlKGQuU2Vjb25kcykgKyAxMCB9KVxuICAgICAgLmF0dHIoJ3knLCBkID0+IHsgcmV0dXJuIHZlcnRTY2FsZShkLlBsYWNlKSArIDYgfSlcblxuICAgIGZpZWxkLmFwcGVuZCgndGV4dCcpXG4gICAgICAudGV4dCgnUmFua2luZycpXG4gICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSg0MCwgMjUwKSByb3RhdGUoLTkwLDAsMTMpJylcblxuICAgIGZpZWxkLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSg2MCwgMCknKVxuICAgICAgLmNhbGwocGxhY2VBeGlzKVxuXG4gICAgZmllbGQuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC50ZXh0KCdUaW1lIHVwIHRoZSBBbHBlIGRcXCdIdWV6JylcbiAgICAgIC5hdHRyKCd4Jywgd2lkdGggLyAyKVxuICAgICAgLmF0dHIoJ3knLCBoZWlnaHQgKyA2MClcblxuICAgIGZpZWxkLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSg4MCwgJyArIChoZWlnaHQgKyAyMCkgKyAnKScpXG4gICAgICAuY2FsbCh0aW1lQXhpcylcbiAgfVxufSkiXX0=
